package com.gui;

import javax.swing.ProgressMonitor;

import com.jcraft.jsch.SftpProgressMonitor;

public class MyProgressMonitor implements SftpProgressMonitor{
	
	
	 public double count=0;
	    private int percentage;
	    public double totalSize;
	    private int lastPercentage;
	    @Override
	    public void init(int op, String src, String dest, long max) 
	        {
	    	
	        this.totalSize=332838900;
	        System.out.println("Size="+this.totalSize);
	        }

	    @Override
	    public boolean count(long count) 
	        {
	    	
	    	this.count += count;
	        this.percentage = (int) ((this.count / this.totalSize) * 100.0);
	        if (this.lastPercentage <= this.percentage - 5) 
	            {
	            this.lastPercentage= this.percentage;
	            // setValue() does not work
	            //biforce.upload.progressBar.setValue(20);
	            // append() does not work
	            System.out.println(Integer.toString(this.percentage));
	            // displays percentage completion on console
	            System.out.println("Upload Completion "+this.percentage+" %");

	            }
	        return true;
	        }

	    @Override
	    public void end() 
	        {
	        System.out.println("Total Copied "+this.percentage+" %");
	        }
  }